<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.midprj.account.service.AccountMapper">
	<resultMap type="com.midprj.account.service.AccountVO" id="accountMap">
		<id property = "accId" column = "acc_id"></id>
		<result property ="accPw" column="acc_pw"></result>
		<result property ="accBalance" column="acc_balance"></result>
		<result property ="finproId" column="finpro_id"></result>
		<result property ="memberId" column="member_id"></result>
		<result property ="accDate" column="acc_date"></result>
		<result property ="accBank" column="acc_bank"></result>
	</resultMap>
	
	<resultMap type="com.midprj.member.service.MemberVO" id="memberMap">
		<id property="memberId" column="member_id"/>
		<result property="memberPw" column="member_pw"/>
		<result property="memberName" column="member_name"/>
		<result property="memberEmail" column="member_email"/>
		<result property="memberTel" column="member_tel"/>
		<result property="memberBirth" column="member_birth"/>
		<result property="memberAddress" column="member_address"/>
	</resultMap> 
	
	<resultMap type="com.midprj.account.service.SumAccMemVO" id = "sumMap">
		<collection property="account" resultMap = "accountMap"></collection>
		<collection property="member" resultMap = "memberMap"></collection>
	</resultMap>
	
	<!--로그인한 계좌 리스트 조회  -->
	<select id="accountSelectList" parameterType="String" resultMap="sumMap">
		SELECT * 
		FROM MEMBERS JOIN ACCOUNTS
		ON MEMBERS.MEMBER_ID = ACCOUNTS.MEMBER_ID
		WHERE ACCOUNTS.MEMBER_ID = #{id}
	</select>
	
</mapper>

